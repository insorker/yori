# 再创作

再创作意指添加全新的分区内容。

## config.yml

```yaml
# path should be the relative path of config.yml
templates: templates
static: static
entries:
  - gallery
  - project
  - slide
  - about
entry-wiki:
  - wiki
output: output
```

## 一般添加分区

一般添加分区（内容以markdown文章为主），添加在entries目录下，如：

```yaml
entries:
  ...
  - test
```

然后在config.yml同一目录下新建同名文件夹，如：

```shell
mkdir test
```

在main.py中添加类似如下语句：

```python
# 原文
gallery_page = PageBase(_config)
gallery_page.METADATA.update({
    'template': 'gallery.html',
    '__url': 'gallery.html',
    '__output_path': 'gallery.html',
    '__posts': GLOBAL_METADATA['__posts_metadata']['gallery'],
})
gallery_page.pagebase_output(config['output'], env)

# test
test_page = PageBase(_config)
test_page.METADATA.update({
    'template': 'test.html',
    '__url': 'test.html',
    '__output_path': 'test.html',
    '__posts': GLOBAL_METADATA['__posts_metadata']['test'],
})
test_page.pagebase_output(config['output'], env)
```

在templates文件夹下新建html模板，如：

```html
{% extends "base.html" %}

{% set title='test' %}
{% block content %}
    <div class="content-header">
        <div class="post-title">
            {{ title }}
        </div>
        <div class="post-meta">
            <span>{{ author }}</span>
            <span> | updated on {{ date }}</span>
        </div>
    </div>
{% endblock %}
```

即可完成基础配置，此时yori将会读取test文件夹下所有文本文件，渲染所有META信息进入test.html，关于META信息详见PageBase类和Page类：

```python
class PageBase:
    def __init__(self, config):
        self.METADATA = {
            'author': 'anonymous',
            'date': datetime.now().strftime("%Y-%m-%d"),
            'template': '',
            '__url': '',
            '__content': '',
            '__output_path': '',
        }
        self.METADATA.update(config)

class Page(PageBase):
    def __init__(self, config, file):
        super(Page, self).__init__(config)

        self.file = file
        self.METADATA.update({
            # file name default
            'title': '',
            # 'tag': '',
            # post.html template default
            'template': 'post.html',
            # folder name default
            'category': 'default',
            # 是否置顶
            'top': 0,
        })
        self.METADATA.update(config)
```

具体渲染过程详见函数yori_render。

## 特殊分区

如wiki